(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{Xszm:function(e,t,a){"use strict";a.r(t);a("KKXr"),a("Z2Ku"),a("L9s1");var n=a("MX0m"),r=a.n(n),i=a("q1tI"),o=a.n(i),s=a("TJpk"),l=a("Wbzz"),d=a("w8WG"),c=a.n(d),m=a("ma3e"),u=a("mNnJ");var h=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).state={alreadyFetched:!1,g:t.g,currId:t.currId,nextId:t.nextId},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var r=n.prototype;return r.componentDidMount=function(){if(!this.state.alreadyFetched){this.setState({alreadyFetched:!0});var e=this.state.g,t="page"+(e.cursor-1);if(e[t]){var a=e[t];0!==a.length&&a[a.length-1].id<this.state.nextId&&e.loadMore()}else e.loadMore()}},r.render=function(){return o.a.createElement(o.a.Fragment,null)},n}(o.a.Component),p=a("U2Qk");var g=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).wait=0+t.additionalWait,a.startShowingFlash=a.startShowingFlash.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a)),a.zIndex=t.zIndex,a.state={g:t.g,flashStarted:!1},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=n.prototype;return i.startShowingFlash=function(){var e=this;this.setState({flashStarted:!0});this.timer=setTimeout((function(){return e.state.g.updateState({flashCueShown:!0})}),this.wait/2)},i.componentDidMount=function(){this.state.g.flashCueShown||(this.timer=setTimeout(this.startShowingFlash,this.wait))},i.componentWillUnmount=function(){this.timer&&clearTimeout(this.timer)},i.render=function(){return o.a.createElement(o.a.Fragment,null,this.state.flashStarted&&o.a.createElement(o.a.Fragment,null,o.a.createElement(m.a,{className:"flashCue",style:{left:"10vw"}}),o.a.createElement(m.b,{className:"flashCue",style:{right:"10vw"}}),o.a.createElement(r.a,{id:"665678946"},[".flashCue{top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);opacity:0;font-size:20px;-webkit-animation:flash-jsx-665678946 4s linear;animation:flash-jsx-665678946 4s linear;z-index:"+this.zIndex+";}","@media only screen and (max-width:1200px){@-webkit-keyframes flash-jsx-665678946{0%,100%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-filter:blur(3px);-moz-filter:blur(3px);-o-filter:blur(3px);-ms-filter:blur(3px);-webkit-filter:blur(3px);filter:blur(3px);-webkit-filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='3');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='3');}50%{opacity:1;-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);-webkit-filter:blur(0px);-moz-filter:blur(0px);-o-filter:blur(0px);-ms-filter:blur(0px);-webkit-filter:blur(0px);filter:blur(0px);-webkit-filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='0');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='0');}}@keyframes flash-jsx-665678946{0%,100%{opacity:0;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-filter:blur(3px);-moz-filter:blur(3px);-o-filter:blur(3px);-ms-filter:blur(3px);-webkit-filter:blur(3px);filter:blur(3px);-webkit-filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='3');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='3');}50%{opacity:1;-webkit-transform:scale(2);-ms-transform:scale(2);transform:scale(2);-webkit-filter:blur(0px);-moz-filter:blur(0px);-o-filter:blur(0px);-ms-filter:blur(0px);-webkit-filter:blur(0px);filter:blur(0px);-webkit-filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='0');filter:progid:DXImageTransform.Microsoft.Blur(PixelRadius='0');}}}"])))},n}(o.a.Component);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var x=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).handleKeyDown=function(e){37===e.keyCode?Object(l.navigate)("/images/"+a.state.pageContext.prevId,{state:a.getStatePassForPrev()}):39===e.keyCode&&Object(l.navigate)("/images/"+a.state.pageContext.nextId,{state:a.getStatePassForNext()})},a.handleKeyDown=a.handleKeyDown.bind(f(a)),a.fullScreenChangeHandler=a.fullScreenChangeHandler.bind(f(a)),a.enterFullScreenAndRender=a.enterFullScreenAndRender.bind(f(a)),a.exitFullScreenAndRender=a.exitFullScreenAndRender.bind(f(a)),a.currentImageLoaded=a.currentImageLoaded.bind(f(a)),a.nextImageLoaded=a.nextImageLoaded.bind(f(a)),a.prevImageLoaded=a.prevImageLoaded.bind(f(a)),a.getStatePassForNext=a.getStatePassForNext.bind(f(a)),a.getStatePassForPrev=a.getStatePassForPrev.bind(f(a)),a.placeholderTransitionDuration=1e3,a.zIndexes=a.zIndexes(),a.state={pageContext:a.getFromPassedStateOrDefault("pageContext",a.props.pageContext),currentImageLoaded:a.getFromPassedStateOrDefault("currentImageLoaded",!1),isFullScreen:a.getFromPassedStateOrDefault("isFullScreen",!1),nextImageLoaded:a.getFromPassedStateOrDefault("nextImageLoaded",!1),prevImageLoaded:a.getFromPassedStateOrDefault("prevImageLoaded",!1)},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=n.prototype;return i.getFromPassedStateOrDefault=function(e,t){return void 0===t&&(t=!1),this.props.location&&this.props.location.state&&this.props.location.state[e]?this.props.location.state[e]:t},i.zIndexes=function(){var e={},t=1;return e.prefetchedImages=t++,e.currentImagePlaceholder=t++,e.currentImage=t++,e.flashCue=t++,e.invisibleLinks=t++,e.navButtons=t++,e},i.enterFullScreenAndRender=function(){Object(p.a)(),this.setState({isFullScreen:!0})},i.exitFullScreenAndRender=function(){Object(p.b)(),this.setState({isFullScreen:!1})},i.fullScreenChangeHandler=function(){document&&(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?this.enterFullScreenAndRender():this.exitFullScreenAndRender())},i.useOfQueryParams=function(){return"undefined"!=typeof window&&window&&window.location.href.includes("/images/fromGallery?id=")},i.componentDidMount=function(){"undefined"!=typeof document&&document.addEventListener&&this.state.pageContext&&document.addEventListener("keydown",this.handleKeyDown),"undefined"!=typeof document&&document.addEventListener&&(document.addEventListener("webkitfullscreenchange",this.fullScreenChangeHandler,!1),document.addEventListener("mozfullscreenchange",this.fullScreenChangeHandler,!1),document.addEventListener("fullscreenchange",this.fullScreenChangeHandler,!1),document.addEventListener("MSFullscreenChange",this.fullScreenChangeHandler,!1))},i.componentWillMount=function(){if(this.useOfQueryParams()&&!this.getFromPassedStateOrDefault("pageContext")){var e=window.location.href.split("/images/fromGallery?id=")[1];Object(l.navigate)("/images/"+e,{replace:!0})}},i.currentImageLoaded=function(){this.setState({currentImageLoaded:!0})},i.nextImageLoaded=function(){this.setState({nextImageLoaded:!0})},i.prevImageLoaded=function(){this.setState({prevImageLoaded:!0})},i.componentWillUnmount=function(){this.timer1&&clearTimeout(this.timer1),this.timer2&&clearTimeout(this.timer2),"undefined"!=typeof document&&document.removeEventListener&&(document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("webkitfullscreenchange",this.fullScreenChangeHandler,!1),document.removeEventListener("mozfullscreenchange",this.fullScreenChangeHandler,!1),document.removeEventListener("fullscreenchange",this.fullScreenChangeHandler,!1),document.removeEventListener("MSFullscreenChange",this.fullScreenChangeHandler,!1))},i.getStatePassForNext=function(){return{isFullScreen:this.state.isFullScreen,currentImageLoaded:this.state.nextImageLoaded,prevImageLoaded:this.state.currentImageLoaded}},i.getStatePassForPrev=function(){return{isFullScreen:this.state.isFullScreen,currentImageLoaded:this.state.prevImageLoaded,nextImageLoaded:this.state.currentImageLoaded}},i.render=function(){var e=this,t=this.state.pageContext;return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.Helmet,null,o.a.createElement("meta",{charSet:"utf-8"}),o.a.createElement("title",null,"Photo from Gatsby Starter Photo Book"),o.a.createElement("style",null,"\n              html {\n                height: 100%;\n                overflow-y: hidden !important;\n                overflow-x: hidden !important;\n              }\n              body {\n                height: 100%;\n                background-color: #fcf7e9;\n                margin: 0 0 0 0;\n                background-image: url(\"data:image/svg+xml,%3Csvg width='180' height='180' viewBox='0 0 180 180' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M81.28 88H68.413l19.298 19.298L81.28 88zm2.107 0h13.226L90 107.838 83.387 88zm15.334 0h12.866l-19.298 19.298L98.72 88zm-32.927-2.207L73.586 78h32.827l.5.5 7.294 7.293L115.414 87l-24.707 24.707-.707.707L64.586 87l1.207-1.207zm2.62.207L74 80.414 79.586 86H68.414zm16 0L90 80.414 95.586 86H84.414zm16 0L106 80.414 111.586 86h-11.172zm-8-6h11.173L98 85.586 92.414 80zM82 85.586L87.586 80H76.414L82 85.586zM17.414 0L.707 16.707 0 17.414V0h17.414zM4.28 0L0 12.838V0h4.28zm10.306 0L2.288 12.298 6.388 0h8.198zM180 17.414L162.586 0H180v17.414zM165.414 0l12.298 12.298L173.612 0h-8.198zM180 12.838L175.72 0H180v12.838zM0 163h16.413l.5.5 7.294 7.293L25.414 172l-8 8H0v-17zm0 10h6.613l-2.334 7H0v-7zm14.586 7l7-7H8.72l-2.333 7h8.2zM0 165.414L5.586 171H0v-5.586zM10.414 171L16 165.414 21.586 171H10.414zm-8-6h11.172L8 170.586 2.414 165zM180 163h-16.413l-7.794 7.793-1.207 1.207 8 8H180v-17zm-14.586 17l-7-7h12.865l2.333 7h-8.2zM180 173h-6.613l2.334 7H180v-7zm-21.586-2l5.586-5.586 5.586 5.586h-11.172zM180 165.414L174.414 171H180v-5.586zm-8 5.172l5.586-5.586h-11.172l5.586 5.586zM152.933 25.653l1.414 1.414-33.94 33.942-1.416-1.416 33.943-33.94zm1.414 127.28l-1.414 1.414-33.942-33.94 1.416-1.416 33.94 33.943zm-127.28 1.414l-1.414-1.414 33.94-33.942 1.416 1.416-33.943 33.94zm-1.414-127.28l1.414-1.414 33.942 33.94-1.416 1.416-33.94-33.943zM0 85c2.21 0 4 1.79 4 4s-1.79 4-4 4v-8zm180 0c-2.21 0-4 1.79-4 4s1.79 4 4 4v-8zM94 0c0 2.21-1.79 4-4 4s-4-1.79-4-4h8zm0 180c0-2.21-1.79-4-4-4s-4 1.79-4 4h8z' fill='%239C92AC' fill-opacity='0.08' fill-rule='evenodd'/%3E%3C/svg%3E\");\n              }\n              * {\n                -webkit-tap-highlight-color: transparent !important;\n                outline: none !important;\n              }\n              #gatsby-noscript {\n                display: none;\n              }\n\n            ")),o.a.createElement(u.b.Consumer,null,(function(a){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{g:a,currId:t.image.id,nextId:t.nextId}),o.a.createElement(l.Link,{to:"/images/"+t.prevId,state:e.getStatePassForPrev(),title:t.image.title},o.a.createElement("span",{style:{position:"fixed",height:"100%",width:"50%",left:"0px",zIndex:e.zIndexes.invisibleLinks},className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])})),o.a.createElement(l.Link,{to:"/images/"+t.nextId,state:e.getStatePassForNext(),title:t.image.title},o.a.createElement("span",{style:{position:"fixed",height:"100%",width:"50%",right:"0px",zIndex:e.zIndexes.invisibleLinks},className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])})),o.a.createElement(l.Link,{to:"/images/"+t.prevId,state:e.getStatePassForPrev()},o.a.createElement(m.a,{className:"arrowButtons",style:{left:"10px",top:"50%",transform:"translateY(-50%)"},title:"Previous photo"})),o.a.createElement(l.Link,{to:"/images/"+t.nextId,state:e.getStatePassForNext()},o.a.createElement(m.b,{className:"arrowButtons",style:{right:"10px",top:"50%",transform:"translateY(-50%)"},title:"Next photo"})),e.state.currentImageLoaded&&o.a.createElement(g,{g:a,additionalWait:e.placeholderTransitionDuration,zIndex:e.zIndexes.flashCue}),o.a.createElement("span",{className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" x"},o.a.createElement(l.Link,{to:"/#id"+t.image.id,state:{highlight:t.image.id},title:"Back to Gallery"},o.a.createElement(m.g,{style:{right:"10px",top:"10px"}}))),o.a.createElement("span",{className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" fullscreen"},e.state.isFullScreen&&o.a.createElement(m.d,{style:{right:"10px",bottom:"10px",cursor:"pointer"},title:"Exit full screen mode",onClick:e.exitFullScreenAndRender}),!e.state.isFullScreen&&o.a.createElement(m.f,{style:{right:"10px",bottom:"10px",cursor:"pointer"},title:"Enter full screen mode",onClick:e.enterFullScreenAndRender})),o.a.createElement("span",{className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" download"},o.a.createElement("a",{href:t.image.fluid.originalImg,download:!0,className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])},o.a.createElement(m.e,{style:{right:"80px",bottom:"12px"},title:"Download photo"}))),o.a.createElement("img",{onLoad:e.currentImageLoaded,src:a.initialRender?"":t.image.fluid.originalImg,srcSet:a.initialRender?"":t.image.fluid.srcSet,sizes:a.initialRender?"":t.image.fluid.sizes,alt:"",title:t.image.title,importance:"high",style:{zIndex:e.zIndexes.currentImage},className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" currentImage decoratedImage "+(e.state.currentImageLoaded?"fade-in":"hide")}),o.a.createElement("img",{src:t.image.fluid.tracedSVG,alt:"",style:{zIndex:e.zIndexes.currentImagePlaceholder,height:"1337%",borderRadius:"0px"},className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" currentImagePlaceholder "+(e.state.currentImageLoaded?"fade-out":"")}),o.a.createElement("noscript",{className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])},o.a.createElement("img",{src:t.image.fluid.originalImg,srcSet:t.image.fluid.srcSet,sizes:t.image.fluid.sizes,alt:"",title:t.image.title,importance:"high",style:{zIndex:e.zIndexes.currentImage},className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" currentImage decoratedImage"}),o.a.createElement("style",null,"\n                        .currentImagePlaceholder {\n                          opacity: 0 !important\n                        }\n                      ")),e.state.currentImageLoaded&&o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{onLoad:e.nextImageLoaded,src:a.initialRender?"":t.prefetchNext1.originalImg,srcSet:a.initialRender?"":t.prefetchNext1.srcSet,sizes:a.initialRender?"":t.prefetchNext1.sizes,alt:"",importance:"low",className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" prefetchedImages"}),o.a.createElement("img",{onLoad:e.prevImageLoaded,src:a.initialRender?"":t.prefetchPrev.originalImg,srcSet:a.initialRender?"":t.prefetchPrev.srcSet,sizes:a.initialRender?"":t.prefetchPrev.sizes,alt:"",importance:"low",className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" prefetchedImages"}),o.a.createElement("img",{src:t.prefetchNext2.originalImg,srcSet:t.prefetchNext2.srcSet,sizes:t.prefetchNext2.sizes,alt:"",importance:"low",className:r.a.dynamic([["1367741956",[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]]])+" prefetchedImages"})),o.a.createElement(r.a,{id:"1367741956",dynamic:[e.placeholderTransitionDuration,e.placeholderTransitionDuration,e.zIndexes.prefetchedImages,c.a.color.brand.primary,e.zIndexes.navButtons]},["img.__jsx-style-dynamic-selector{position:absolute;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;padding:0;left:5%;right:5%;top:3%;bottom:3%;max-height:94%;max-width:90%;}","@media only screen and (max-width:1200px){img.__jsx-style-dynamic-selector{left:0px;right:0px;top:0px;bottom:0px;max-height:100%;max-width:100%;-webkit-box-shadow:0 0 0 0 !important;-moz-box-shadow:0 0 0 0 !important;box-shadow:0 0 0 0 !important;}}",".decoratedImage.__jsx-style-dynamic-selector{-webkit-box-shadow:1vw 1vh 5vh 0px rgba(0,0,0,0.75);-moz-box-shadow:1vw 1vh 5vh 0px rgba(0,0,0,0.75);box-shadow:1vw 1vh 5vh 0px rgba(0,0,0,0.75);border-radius:8px;}",".hide.__jsx-style-dynamic-selector{opacity:0;}",".fade-in.__jsx-style-dynamic-selector{opacity:1;-webkit-transition:"+e.placeholderTransitionDuration+"ms ease-in;transition:"+e.placeholderTransitionDuration+"ms ease-in;}",".fade-out.__jsx-style-dynamic-selector{opacity:0;-webkit-transition:"+e.placeholderTransitionDuration+"ms step-end;transition:"+e.placeholderTransitionDuration+"ms step-end;}",".prefetchedImages.__jsx-style-dynamic-selector{opacity:0;z-index:"+e.zIndexes.prefetchedImages+";}","@media only screen and (max-width:1200px){.arrowButtons{visibility:hidden;}}","svg{position:fixed;font-size:40px;fill:"+c.a.color.brand.primary+";opacity:0.5;z-index:"+e.zIndexes.navButtons+";}","svg:hover{opacity:1;}"]))})))},n}(o.a.Component);t.default=x}}]);
//# sourceMappingURL=component---src-templates-postcard-template-js-7ad0306ea746a806f02b.js.map